# Парсер лога веб-сервера
> Домашнее задание по курсу OTUS Python QA Engineer 

Парсер собирает и выводит в файле отчета следующую информацию из логов:
* общее количество выполненных запросов
* количество запросов по HTTP-методам: GET, POST, PUT, DELETE, OPTIONS, HEAD. Например, GET - 20, POST - 10 и т.п.
* топ 3 IP адресов, с которых было сделано наибольшее количество запросов
* топ 3 самых долгих запросов - должны выводиться HTTP-метод, URL, IP, длительность запроса, дата и время запроса

## Запуск парсера

Для запуска парсера необходимо передать в качестве аргумента '-p' путь до файла лога
или папки с логами.

```shell
main.py -p access.log
```
```shell
main.py -p logs
```

### Файл отчета

После выполнения в текущей папке будет сформирован один или несколько файлов отчета 
с именем result_logname.json.

### Формат

```json
{
  "top_ips": {
    "109.169.248.247": 2,
    "46.72.177.4": 2,
    "83.167.113.100": 2
  },
  "top_longest": [
    {
      "ip": "95.29.198.15",
      "datetime": "[12/Dec/2015:18:32:11 +0100]",
      "method": "POST",
      "url": "http://almhuette-raith.at/administrator/",
      "duration": 9865
    },
    {
      "ip": "46.72.213.133",
      "datetime": "[12/Dec/2015:18:39:27 +0100]",
      "method": "POST",
      "url": "http://almhuette-raith.at/administrator/",
      "duration": 9769
    },
    {
      "ip": "46.72.213.133",
      "datetime": "[12/Dec/2015:18:39:27 +0100]",
      "method": "GET",
      "url": "-",
      "duration": 9361
    }
  ],
  "total_stat": {
    "GET": 21,
    "HEAD": 0,
    "OPTIONS": 0,
    "TRACE": 0,
    "PUT": 0,
    "DELETE": 0,
    "POST": 20,
    "PATCH": 0,
    "CONNECT": 0
  },
  "total_requests": 41
}
```